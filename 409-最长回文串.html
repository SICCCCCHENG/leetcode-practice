<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        var longestPalindrome01 = function (s) {
            const obj = {}
            const length = s.length
            let ans = 0, extra = false
            // 初始化
            for (let i = 0; i < length; i++) {
                if (obj[s[i]]) {
                    obj[s[i]]++
                } else {
                    obj[s[i]] = 1
                }
            }
            debugger
            for (const key in obj) {
                if (!extra) {
                    obj[key] % 2 === 1
                    extra = true
                }
                ans += Math.floor(obj[key] / 2)
            }
            return ans * 2 + Number(extra)
        };

        var longestPalindrome = function (s) {
            const obj = {}
            const length = s.length
            let ans = 0, extra = 0
            let str
            // 初始化
            debugger
            for (let i = 0; i < length; i++) {
                if (obj[s[i]]) {
                    obj[s[i]]++
                    str = String(obj[s[i]])
                    if (Number(str[str.length - 1]) % 2 === 0) {
                        extra--
                        ans++
                    } else {
                        extra++
                    }
                } else {
                    obj[s[i]] = 1
                    extra++
                }
            }
            return ans * 2 + (extra === 0 ? 0 : 1)
        };
        console.log(longestPalindrome("abccccdd"));

    </script>
</body>

</html>