<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>

        var uniquePathsWithObstacles2 = function (obstacleGrid) {
            const row = obstacleGrid.length
            const col = obstacleGrid[0].length
            if (obstacleGrid[0][0] === 1 || obstacleGrid[row - 1][col - 1] === 1) return 0
            let ans = 0
            obstacleGrid[0][0] = '1'
            debugger
            for (let i = 0; i < row; i++) {
                for (let j = 0; j < col; j++) {
                    if (obstacleGrid[i][j] === 0) {
                        obstacleGrid[i][j] = String((i - 1 >= 0 && typeof obstacleGrid[i - 1][j] === 'string' ? +obstacleGrid[i - 1][j] : 0) + (j + 1 <= row && typeof obstacleGrid[i][j + 1] === 'string' ? +obstacleGrid[i][j + 1] : 0))
                    }
                }
            }
            return +obstacleGrid[row - 1][col - 1]
        };

        var uniquePathsWithObstacles = function (obstacleGrid) {
            const row = obstacleGrid.length
            const col = obstacleGrid[0].length
            if (obstacleGrid[0][0] === 1 || obstacleGrid[row - 1][col - 1] === 1) return 0
            const dp = new Array(col).fill(0)
            dp[0] = 1
            debugger
            for (let i = 0; i < row; i++) {
                for (let j = 0; j < col; j++) {
                    if (obstacleGrid[i][j] === 1) {
                        dp[j] = 0
                    } else {
                        dp[j] = dp[j] + ((j - 1 >= 0 && obstacleGrid[i][j - 1] !== 1) ? dp[j - 1] : 0)
                    }
                }
            }
            return dp[col - 1]
        };
        uniquePathsWithObstacles([[0, 0, 0], [0, 1, 0], [0, 0, 0]])
    </script>
</body>

</html>