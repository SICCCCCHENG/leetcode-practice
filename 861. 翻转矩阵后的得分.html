<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        var matrixScore = function (grid) {
            const row = grid.length
            const col = grid[0].length
            let flag = false, ans = 0
            const helper = new Array(col).fill(0)
            for (let i = 0; i < row; i++) {
                if (grid[i][0] === 0) flag = true
                for (let j = 0; j < col; j++) {
                    if (flag) {
                        grid[i][j] = grid[i][j] === 0 ? 1 : 0
                    }
                    if (grid[i][j] === 0) {
                        helper[j]++
                    }
                }
                flag = false
            }

            debugger
            for (let j = 0; j < col; j++) {
                if (helper[j] > row / 2) {
                    for (let i = 0; i < row; i++) {
                        grid[i][j] = grid[i][j] === 0 ? 1 : 0
                    }
                }
            }
            for (let i = 0; i < row; i++) {
                ans += parseInt(grid[0].join(''), 2)
            }
            return ans
        };

        matrixScore([[0, 0, 1, 1], [1, 0, 1, 0], [1, 1, 0, 0]])
    </script>
</body>

</html>