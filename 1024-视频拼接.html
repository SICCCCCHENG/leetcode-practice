<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        var videoStitching2 = function (clips, time) {
            const length = clips.length
            clips.sort((a, b) => {
                if (a[0] === b[0]) return b[1] - a[1]
                return a[0] - b[0]
            })
            if (clips[0][0] > 0) return -1
            let furthest = clips[0][1], ans = 1
            if (furthest >= time) return ans
            let pre = 0
            debugger
            const helper = (start, dest) => {
                let fu = 0
                for (let i = start; i <= dest && i < length; i++) {
                    const a = fu
                    const b = clips[i][1]
                    fu = Math.max(fu, clips[i][1])
                }
                return fu
            }
            let temp
            while (true) {
                temp = helper(pre, furthest)
                if (temp >= time) return ans + 1
                if (temp === 0) return -1
                ans++
                pre = furthest
                furthest = temp
            }
        };

        var videoStitching3 = function (clips, time) {
            const length = clips.length
            clips.sort((a, b) => {
                if (a[0] === b[0]) return b[1] - a[1]
                return a[0] - b[0]
            })
            if (clips[0][0] > 0) return -1
            let furthest = clips[0][1], ans = 1
            if (furthest >= time) return ans
            let nextFurthest = 0
            debugger
            for (let ele of clips) {
                if (ele[0] <= furthest) {
                    nextFurthest = Math.max(nextFurthest, ele[1])
                } else {
                    furthest = nextFurthest
                    nextFurthest = 0
                    ans++
                }
                if (nextFurthest >= time) {
                    return ans + 1
                }
            }
            return -1
        };

        var videoStitching4 = function (clips, time) {
            const length = clips.length
            clips.sort((a, b) => {
                if (a[0] === b[0]) return b[1] - a[1]
                return a[0] - b[0]
            })
            if (clips[0][0] > 0) return -1
            let furthest = clips[0][1], ans = 1
            if (furthest >= time) return ans
            let nextFurthest = 0
            debugger
            for (let i = 0; i < length; i++) {
                if (clips[i][0] <= furthest) {
                    nextFurthest = Math.max(nextFurthest, clips[i][1])
                } else {
                    i--
                    furthest = nextFurthest
                    nextFurthest = 0
                    ans++
                }
                if (nextFurthest >= time) {
                    return ans + 1
                }
            }
            return nextFurthest >= time ? ans + 1 : -1
        };

        var videoStitching = function (clips, time) {
            const length = clips.length
            clips.sort((a, b) => a[0] - b[0])
            let furthest = 0, ans = 1
            let nextFurthest = 0, i = 0
            let temp = clips[0][0]
            debugger
            while (clips[i][0] === temp) {
                furthest = Math.max(furthest, clips[i][1])
                i++
            }
            for (; i < length; i++) {
                if (clips[i][0] <= furthest) {
                    nextFurthest = Math.max(nextFurthest, clips[i][1])
                } else {
                    if (nextFurthest < clips[i][0]) {
                        return -1
                    }
                    i--
                    furthest = nextFurthest
                    nextFurthest = 0
                    ans++
                }
                if (nextFurthest >= time) {
                    return ans + 1
                }
            }
            return nextFurthest >= time ? ans + 1 : -1
        };
        // videoStitching([[0, 1], [6, 8], [0, 2], [5, 6], [0, 4], [0, 3], [6, 7], [1, 3], [4, 7], [1, 4], [2, 5], [2, 6], [3, 4], [4, 5], [5, 7], [6, 9]], 9)
        // videoStitching([[0, 2], [1, 6], [3, 10]], 10)
        // videoStitching([[0, 2], [4, 8]], 5)
        // videoStitching([[5, 7], [1, 8], [0, 0], [2, 3], [4, 5], [0, 6], [5, 10], [7, 10]], 5)
        // videoStitching([[8,10],[17,39],[18,19],[8,16],[13,35],[33,39],[11,19],[18,35]], 20)
        videoStitching([[0, 2]], 2)
    </script>
</body>

</html>