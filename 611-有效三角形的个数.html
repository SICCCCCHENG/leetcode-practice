<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <script>
        var triangleNumber2 = function (nums) {
            const n = nums.length;
            nums.sort((a, b) => a - b);
            let ans = 0;
            debugger
            for (let i = 0; i < n; ++i) {
                for (let j = i + 1; j < n; ++j) {
                    let left = j + 1, right = n - 1, k = j;
                    while (left <= right) {
                        const mid = Math.floor((left + right) / 2);
                        if (nums[mid] < nums[i] + nums[j]) {
                            k = mid;
                            left = mid + 1;
                        } else {
                            right = mid - 1;
                        }
                    }
                    ans += k - j;
                }
            }
            return ans;
        };

        var triangleNumber3 = function (nums) {
            const length = nums.length
            nums.sort((a, b) => a - b)
            let ans = 0, left, right, mid
            debugger
            for (let i = 0; i <= length - 3; i++) {
                for (let j = i + 1; j <= length - 2; j++) {
                    left = j + 1
                    right = length - 1
                    while (left <= right) {
                        mid = Math.floor((left + right) / 2)
                        if (nums[mid] > (nums[i] + nums[j])) {
                            right = mid - 1
                        } else {
                            left = mid + 1
                        }
                    }
                    ans += mid - j > 0 ? mid - j : 0
                }
            }
            return ans
        };


        var triangleNumber = function (nums) {
            const length = nums.length
            nums.sort((a, b) => a - b)
            let ans = 0, left, right, mid
            debugger
            for (let i = 0; i <= length - 3; i++) {
                for (let j = i + 1; j <= length - 2; j++) {
                    left = j + 1
                    right = length - 1
                    while (left <= right && j < left && j < right) {
                        mid = Math.floor((left + right) / 2)
                        if (nums[mid] > (nums[i] + nums[j])) {
                            right = mid - 1
                        } else {
                            left = mid + 1
                        }
                    }
                    ans += right - j > 0 ? right - j : 0
                }
            }
            return ans
        };

        triangleNumber([2, 2, 3, 4])
        // triangleNumber([2, 2, 3, 4, 5, 6, 7, 8, 9, 10])
        //[4,2,3,4]
    </script>
</body>

</html>